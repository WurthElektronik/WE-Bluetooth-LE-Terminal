"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5142],{5142:(Ue,y,g)=>{g.r(y),g.d(y,{TerminalTabModule:()=>Ne,createTranslateLoader:()=>I});var l=g(1232),p=g(6814),d=g(6223),G=g(9862),T=g(6663),A=g(383),C=g(3962),s=g(5861),_=g(4236),u=function(o){return o[o.ASCII=0]="ASCII",o[o.HEX=1]="HEX",o}(u||{}),e=g(5879);function k(o,r){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-radio",7),e._uU(2),e.qZA()()),2&o){const i=r.$implicit;e.xp6(1),e.s9C("value",i),e.xp6(1),e.Oqu(i)}}function M(o,r){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-checkbox",8),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.only_printable_ascii=t)}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()}if(2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngModel",i.only_printable_ascii),e.xp6(1),e.Oqu(e.lcZ(3,2,"SelectEncoding.printablechars"))}}let q=(()=>{var o;class r{constructor(n){this.modalCtrl=n,this.encodingtypes=Object.keys(u).map(t=>u[t]).filter(t=>"string"==typeof t)}ngOnInit(){}encodingselected(){return this.modalCtrl.dismiss({selectedencoding:u[this.selectedencoding],only_printable_ascii:this.only_printable_ascii},"confirm")}}return(o=r).\u0275fac=function(n){return new(n||o)(e.Y36(l.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-encoding"]],decls:12,vars:10,consts:[[1,"inner-content"],["tabindex","0"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"ion-margin-top",2,"width","100%",3,"click"],[3,"value"],[1,"ion-margin-start",3,"ngModel","ngModelChange"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ion-list",1)(5,"ion-radio-group",2),e.NdJ("ngModelChange",function(c){return t.selectedencoding=c}),e.YNc(6,k,3,2,"ion-item",3),e.qZA()(),e.ynx(7,4),e.YNc(8,M,4,4,"ng-container",5),e.BQk(),e.TgZ(9,"ion-button",6),e.NdJ("click",function(){return t.encodingselected()}),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,6,"SelectEncoding.selectencoding")),e.xp6(3),e.Q6J("ngModel",t.selectedencoding),e.xp6(1),e.Q6J("ngForOf",t.encodingtypes),e.xp6(1),e.Q6J("ngSwitch",t.selectedencoding),e.xp6(1),e.Q6J("ngSwitchCase","ASCII"),e.xp6(2),e.Oqu(e.lcZ(11,8,"SelectEncoding.select")))},dependencies:[l.YG,l.nz,l.Ie,l.q_,l.B7,l.se,l.w,l.QI,p.sg,p.RF,p.n9,d.JJ,d.On,T.X$]}),r})();function J(o,r){let i=r?/[^\x20-\x7E]/g:/[^\x00-\x7F]/g;return String.fromCharCode.apply(null,new Uint8Array(o)).replace(i,"\u2610")}var v=g(913),R=g(5874),S=g(2260),b=function(o){return o[o.NoPull=0]="NoPull",o[o.PullDown=1]="PullDown",o[o.PullUp=2]="PullUp",o}(b||{}),x=function(o){return o[o.Low=0]="Low",o[o.High=1]="High",o}(x||{}),f=g(893),Z=g(6909);const L=["pintypeselect"],D=["pwmperiod"];function H(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-segment-button",18),e.NdJ("click",function(){const a=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.pinchanged(a.key))}),e.TgZ(1,"ion-label",19),e._uU(2),e.qZA()()}if(2&o){const i=r.$implicit;e.s9C("value",i.key),e.xp6(2),e.Oqu(i.value.getPinName())}}function Y(o,r){1&o&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"ConfigGPIO.pintypeselection.pwm")))}function F(o,r){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-row",8)(2,"ion-radio-group",21),e.NdJ("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.inputTypeChanged(t))}),e.TgZ(3,"ion-radio",22),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"ion-radio",23),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"ion-radio",24),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.BQk()}if(2&o){const i=e.oxw();e.xp6(2),e.s9C("value",i.inputPinTypes[i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinConfigValue().getUint8(0)]),e.xp6(2),e.Oqu(e.lcZ(5,4,"ConfigGPIO.input.nopull")),e.xp6(4),e.Oqu(e.lcZ(9,6,"ConfigGPIO.input.pulldown")),e.xp6(4),e.Oqu(e.lcZ(13,8,"ConfigGPIO.input.pullup"))}}function E(o,r){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-row",8)(2,"ion-radio-group",21),e.NdJ("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.outputTypeChanged(t))}),e.TgZ(3,"ion-radio",25),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"ion-radio",26),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&o){const i=e.oxw();e.xp6(2),e.s9C("value",i.outputPinTypes[i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinConfigValue().getUint8(0)]),e.xp6(2),e.Oqu(e.lcZ(5,3,"ConfigGPIO.output.low")),e.xp6(4),e.Oqu(e.lcZ(9,5,"ConfigGPIO.output.high"))}}function B(o,r){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-row",8)(2,"ion-input",27,28),e.NdJ("ionInput",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.onpwmPeriodInput(t))})("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.onpwmPeriodChange(t))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",29)(6,"ion-range",30),e.NdJ("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.pwmRatioChanged(t))}),e.TgZ(7,"div",31),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&o){const i=e.oxw();e.xp6(2),e.s9C("value",i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinConfigValue().getUint16(0)),e.s9C("label",e.lcZ(4,6,"ConfigGPIO.pwm.period")),e.xp6(4),e.s9C("value",100*i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinConfigValue().getUint8(2)/254),e.Q6J("pin",!0)("pinFormatter",i.pwmRatioformatter),e.xp6(2),e.Oqu(e.lcZ(9,8,"ConfigGPIO.pwm.ratio"))}}let K=(()=>{var o;class r{constructor(n,t,a){this.ble=n,this.modalCtrl=t,this.ngZone=a,this.pinTypes=f.l,this.inputPinTypes=b,this.outputPinTypes=x}ngOnInit(){var n=this;this.device=this.ble.connectedDevices.get(this.id),this.gpio=this.device.getGPIO(),this.selectedpin=String(this.gpio.getGPIOPins().keys().next().value),this.gpio.resetTempGPIOPins(Array.from(this.gpio.getTempGPIOPins().values())),this.datareceivedsubscription=this.device.getDataReceivedSubject().subscribe((0,s.Z)(function*(){n.ngZone.run(()=>{n.select.value=f.l[n.gpio.getTempGPIOPins().get(+n.selectedpin).getPinType()]})}))}ionViewWillLeave(){this.datareceivedsubscription&&(this.datareceivedsubscription.unsubscribe(),this.datareceivedsubscription=void 0)}readpinconfig(){var n=this;return(0,s.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatreadpinconfiguration())})()}writeallpinconfig(){var n=this;return(0,s.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinconfiguration(Array.from(n.gpio.getTempGPIOPins().values())))})()}writepinconfig(){var n=this;return(0,s.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinconfiguration([n.gpio.getTempGPIOPins().get(+n.selectedpin)]))})()}pinchanged(n){this.ngZone.run(()=>{this.select.value=f.l[this.gpio.getTempGPIOPins().get(n).getPinType()]})}pinTypeChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).setPinType(f.l[n.detail.value]),this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint32(0,0),this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinType()==f.l.PWM&&this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,1)}backclicked(){return this.modalCtrl.dismiss("confirm")}pwmRatioformatter(n){return`${n}%`}pwmRatioChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint8(2,254*n.detail.value/100)}inputTypeChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint8(0,b[n.detail.value])}outputTypeChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint8(0,x[n.detail.value])}onpwmPeriodInput(n){let a=n.detail.value.replace(/[^0-9]+/g,"");this.pwmperiod.value=a}onpwmPeriodChange(n){let t=+n.detail.value;t<=1?(this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,1),this.pwmperiod.value=1):t>=500?(this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,500),this.pwmperiod.value=500):this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinConfigValue().setUint16(0,t)}}return(o=r).\u0275fac=function(n){return new(n||o)(e.Y36(Z.xH),e.Y36(l.IN),e.Y36(e.R0b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-config-gpio"]],viewQuery:function(n,t){if(1&n&&(e.Gf(L,5),e.Gf(D,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.select=a.first),e.iGM(a=e.CRH())&&(t.pwmperiod=a.first)}},decls:44,vars:35,consts:[[1,"inner-content"],[1,"scanheader"],[1,"ion-align-items-center"],[1,"ion-margin-vertical"],[1,"ion-text-right"],["size","small",3,"click"],[3,"scrollable","ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-margin-top"],["interface","popover",3,"value","ionChange"],["pintypeselect",""],["value","NoConfiguration"],["value","Input"],["value","Output"],["value","PWM",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["size","auto",1,"ion-text-left","ion-align-self-end"],[3,"value","click"],[1,"pinlabel"],["value","PWM"],[3,"value","ionChange"],["labelPlacement","end","value","NoPull"],["labelPlacement","end","value","PullDown"],["labelPlacement","end","value","PullUp"],["labelPlacement","end","value","Low"],["labelPlacement","end","value","High"],["inputmode","numeric","placeholder","<1-500> ms",3,"value","label","ionInput","ionChange"],["pwmperiod",""],[1,"ion-margin-end","ion-margin-top"],[3,"pin","pinFormatter","value","ionChange"],["slot","label",2,"margin-right","10px !important"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"ion-grid",1)(2,"ion-row",2)(3,"ion-col")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",4)(8,"ion-button",5),e.NdJ("click",function(){return t.readpinconfig()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.TgZ(11,"ion-segment",6),e.NdJ("ngModelChange",function(c){return t.selectedpin=c}),e.YNc(12,H,3,2,"ion-segment-button",7),e.ALo(13,"keyvalue"),e.qZA(),e.TgZ(14,"ion-grid")(15,"ion-row",8)(16,"ion-select",9,10),e.NdJ("ionChange",function(c){return t.pinTypeChanged(c)}),e.TgZ(18,"ion-select-option",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"ion-select-option",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"ion-select-option",13),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.YNc(27,Y,3,3,"ion-select-option",14),e.qZA()(),e.ynx(28,15),e.YNc(29,F,14,10,"ng-container",16),e.YNc(30,E,10,7,"ng-container",16),e.YNc(31,B,10,10,"ng-container",16),e.BQk(),e.TgZ(32,"ion-row",8)(33,"ion-col",17)(34,"ion-button",5),e.NdJ("click",function(){return t.backclicked()}),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"ion-col",4)(38,"ion-button",5),e.NdJ("click",function(){return t.writepinconfig()}),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"ion-button",5),e.NdJ("click",function(){return t.writeallpinconfig()}),e._uU(42),e.ALo(43,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,17,"ConfigGPIO.configgpio")),e.xp6(4),e.Oqu(e.lcZ(10,19,"ConfigGPIO.readconfig")),e.xp6(2),e.Q6J("scrollable",!0)("ngModel",t.selectedpin),e.xp6(1),e.Q6J("ngForOf",e.lcZ(13,21,t.gpio.getGPIOPins())),e.xp6(4),e.s9C("value",t.pinTypes[t.gpio.getTempGPIOPins().get(+t.selectedpin).getPinType()]),e.xp6(3),e.Oqu(e.lcZ(20,23,"ConfigGPIO.pintypeselection.noconfiguration")),e.xp6(3),e.Oqu(e.lcZ(23,25,"ConfigGPIO.pintypeselection.input")),e.xp6(3),e.Oqu(e.lcZ(26,27,"ConfigGPIO.pintypeselection.output")),e.xp6(2),e.Q6J("ngIf",1==t.gpio.getTempGPIOPins().get(+t.selectedpin).getPWMSupport()),e.xp6(1),e.Q6J("ngSwitch",t.pinTypes[t.gpio.getTempGPIOPins().get(+t.selectedpin).getPinType()]),e.xp6(1),e.Q6J("ngSwitchCase","Input"),e.xp6(1),e.Q6J("ngSwitchCase","Output"),e.xp6(1),e.Q6J("ngSwitchCase","PWM"),e.xp6(4),e.Oqu(e.lcZ(36,29,"ConfigGPIO.back")),e.xp6(4),e.Oqu(e.lcZ(40,31,"ConfigGPIO.configpin")),e.xp6(3),e.Oqu(e.lcZ(43,33,"ConfigGPIO.configallpins")))},dependencies:[l.YG,l.wI,l.jY,l.pK,l.Q$,l.B7,l.se,l.I_,l.Nd,l.cJ,l.GO,l.t9,l.n0,l.as,l.QI,l.j9,p.sg,p.O5,p.RF,p.n9,d.JJ,d.On,p.Nd,T.X$],styles:["ion-segment-button[_ngcontent-%COMP%]{text-transform:none;max-width:none!important}ion-radio-group[_ngcontent-%COMP%]{line-height:32px}ion-range[_ngcontent-%COMP%]{padding-top:0!important}ion-input[_ngcontent-%COMP%]{--padding: 0px}ion-range[_ngcontent-%COMP%]::part(pin){display:inline-flex;align-items:center;justify-content:center;border-radius:50%;transform:scale(1);top:0;width:34px;height:34px}ion-range[_ngcontent-%COMP%]::part(knob){visibility:hidden}ion-range[_ngcontent-%COMP%]::part(pin):before{content:none}.pinlabel[_ngcontent-%COMP%]{font-weight:600}"]}),r})();var O=g(9583);function W(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-segment-button",14),e.NdJ("click",function(){const a=e.CHM(i).$implicit,c=e.oxw();return e.KtG(c.pinchanged(a.key))}),e.TgZ(1,"ion-label",15),e._uU(2),e.qZA()()}if(2&o){const i=r.$implicit;e.s9C("value",i.key),e.xp6(2),e.Oqu(i.value.getPinName())}}function z(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",16)(6,"ion-radio-group",17)(7,"ion-radio",18),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()),2&o){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"RWGPIO.input.input")),e.xp6(3),e.s9C("value",i.outputPinTypes[i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinValue().getUint8(0)]),e.xp6(2),e.Oqu(e.lcZ(9,5,"RWGPIO.input."+i.outputPinTypes[i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinValue().getUint8(0)]))}}function V(o,r){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",16)(6,"ion-toggle",19),e.NdJ("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.outputToggleChanged(t))}),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.BQk()}if(2&o){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"RWGPIO.output.output")),e.xp6(3),e.Q6J("checked","High"==i.outputPinTypes[i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinValue().getUint8(0)]),e.xp6(1),e.Oqu(e.lcZ(8,5,"RWGPIO.output."+i.outputPinTypes[i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinValue().getUint8(0)]))}}function j(o,r){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"ion-row",20)(6,"ion-range",21),e.NdJ("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.pwmRatioChanged(t))}),e.TgZ(7,"div",22),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&o){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,5,"RWGPIO.pwm.pwm")),e.xp6(3),e.s9C("value",100*i.gpio.getTempGPIOPins().get(+i.selectedpin).getPinValue().getUint8(0)/254),e.Q6J("pin",!0)("pinFormatter",i.pwmRatioformatter),e.xp6(2),e.Oqu(e.lcZ(9,7,"RWGPIO.pwm.ratio"))}}function $(o,r){1&o&&(e.ynx(0),e.TgZ(1,"ion-row",23)(2,"ion-label"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.BQk()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"RWGPIO.noconfiguration")))}let X=(()=>{var o;class r{constructor(n,t,a){this.ble=n,this.modalCtrl=t,this.ngZone=a,this.pinTypes=f.l,this.inputPinTypes=b,this.outputPinTypes=x,this.isPinConfigured=!1}ngOnInit(){var n=this;this.device=this.ble.connectedDevices.get(this.id),this.gpio=this.device.getGPIO(),this.selectedpin=String(this.gpio.getGPIOPins().keys().next().value),this.gpio.resetTempGPIOPins(Array.from(this.gpio.getTempGPIOPins().values())),this.isPinConfigured=0!=Array.from(this.gpio.getTempGPIOPins().values()).filter(t=>1==t.getIsConfigured()).length,this.datareceivedsubscription=this.device.getDataReceivedSubject().subscribe((0,s.Z)(function*(){n.ngZone.run(()=>{})}))}ionViewWillLeave(){this.datareceivedsubscription&&(this.datareceivedsubscription.unsubscribe(),this.datareceivedsubscription=void 0)}readpinvalues(){var n=this;return(0,s.Z)(function*(){let t=Array.from(n.gpio.getTempGPIOPins().values()).filter(a=>1==a.getIsConfigured());yield n.ble.senddataunformatted(n.id,n.device.formatreadpinvalues(t))})()}readpinvalue(){var n=this;return(0,s.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatreadpinvalues([n.gpio.getTempGPIOPins().get(+n.selectedpin)]))})()}writeallpinconfig(){var n=this;return(0,s.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinvalues(Array.from(n.gpio.getTempGPIOPins().values())))})()}writepinconfig(){var n=this;return(0,s.Z)(function*(){yield n.ble.senddataunformatted(n.id,n.device.formatwritepinvalues([n.gpio.getTempGPIOPins().get(+n.selectedpin)]))})()}pinchanged(n){}backclicked(){return this.modalCtrl.dismiss("confirm")}pwmRatioformatter(n){return`${n}%`}pwmRatioChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinValue().setUint8(0,254*n.detail.value/100)}outputToggleChanged(n){this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinValue().setUint8(0,n.detail.checked?1:0)}canReadPin(){return this.gpio.getTempGPIOPins().get(+this.selectedpin).getIsConfigured()}canWritePin(){return this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinType()==f.l.Output||this.gpio.getTempGPIOPins().get(+this.selectedpin).getPinType()==f.l.PWM}}return(o=r).\u0275fac=function(n){return new(n||o)(e.Y36(Z.xH),e.Y36(l.IN),e.Y36(e.R0b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-rw-gpio"]],decls:35,vars:31,consts:[[1,"inner-content"],[1,"scanheader"],[1,"ion-align-items-center"],[1,"ion-margin-vertical"],[1,"ion-text-right"],["size","small",3,"disabled","click"],[3,"scrollable","ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-margin-top"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["size","auto",1,"ion-text-left","ion-align-self-end"],["size","small",3,"click"],[3,"value","click"],[1,"pinlabel"],[1,"ion-margin-top","ion-justify-content-center"],[2,"pointer-events","none",3,"value"],["value","High"],[3,"checked","ionChange"],[1,"ion-margin-end","ion-margin-top"],[3,"pin","pinFormatter","value","ionChange"],["slot","label",2,"margin-right","10px !important"],[1,"ion-justify-content-center"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"ion-grid",1)(2,"ion-row",2)(3,"ion-col")(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"ion-col",4)(8,"ion-button",5),e.NdJ("click",function(){return t.readpinvalues()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.TgZ(11,"ion-segment",6),e.NdJ("ngModelChange",function(c){return t.selectedpin=c}),e.YNc(12,W,3,2,"ion-segment-button",7),e.ALo(13,"keyvalue"),e.qZA(),e.TgZ(14,"ion-grid",8),e.ynx(15,9),e.YNc(16,z,10,7,"ng-container",10),e.YNc(17,V,9,7,"ng-container",10),e.YNc(18,j,10,9,"ng-container",10),e.YNc(19,$,5,3,"ng-container",11),e.BQk(),e.TgZ(20,"ion-row",8)(21,"ion-col",12)(22,"ion-button",13),e.NdJ("click",function(){return t.backclicked()}),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"ion-col",4)(26,"ion-button",5),e.NdJ("click",function(){return t.readpinvalue()}),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"ion-button",5),e.NdJ("click",function(){return t.writepinconfig()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"ion-button",5),e.NdJ("click",function(){return t.writeallpinconfig()}),e._uU(33),e.ALo(34,"translate"),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,17,"RWGPIO.rwgpio")),e.xp6(3),e.Q6J("disabled",!t.isPinConfigured),e.xp6(1),e.Oqu(e.lcZ(10,19,"RWGPIO.readallpins")),e.xp6(2),e.Q6J("scrollable",!0)("ngModel",t.selectedpin),e.xp6(1),e.Q6J("ngForOf",e.lcZ(13,21,t.gpio.getGPIOPins())),e.xp6(3),e.Q6J("ngSwitch",t.pinTypes[t.gpio.getTempGPIOPins().get(+t.selectedpin).getPinType()]),e.xp6(1),e.Q6J("ngSwitchCase","Input"),e.xp6(1),e.Q6J("ngSwitchCase","Output"),e.xp6(1),e.Q6J("ngSwitchCase","PWM"),e.xp6(5),e.Oqu(e.lcZ(24,23,"RWGPIO.back")),e.xp6(3),e.Q6J("disabled",!t.canReadPin()),e.xp6(1),e.Oqu(e.lcZ(28,25,"RWGPIO.readpin")),e.xp6(2),e.Q6J("disabled",!t.canWritePin()),e.xp6(1),e.Oqu(e.lcZ(31,27,"RWGPIO.writepin")),e.xp6(2),e.Q6J("disabled",!t.isPinConfigured),e.xp6(1),e.Oqu(e.lcZ(34,29,"RWGPIO.writeallpins")))},dependencies:[l.YG,l.wI,l.jY,l.Q$,l.B7,l.se,l.I_,l.Nd,l.cJ,l.GO,l.ho,l.w,l.as,l.QI,p.sg,p.RF,p.n9,p.ED,d.JJ,d.On,p.Nd,T.X$],styles:["ion-segment-button[_ngcontent-%COMP%]{text-transform:none;max-width:none!important}ion-range[_ngcontent-%COMP%]{padding-top:0!important}ion-range[_ngcontent-%COMP%]::part(pin){display:inline-flex;align-items:center;justify-content:center;border-radius:50%;transform:scale(1);top:0;width:34px;height:34px}ion-range[_ngcontent-%COMP%]::part(knob){visibility:hidden}ion-range[_ngcontent-%COMP%]::part(pin):before{content:none}.pinlabel[_ngcontent-%COMP%]{font-weight:600}"]}),r})();var ee=g(8720);const ne=["terminalpopover"],te=["devicepopover"],ie=["requestconnectionpopover"],oe=["ioncontent"],ae=["filterselect"],le=["payloadinput"],re=["sendcountinput"],ce=["txintervalinput"];function se(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-buttons",12)(1,"ion-button",13),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.disconnectclick())}),e._UZ(2,"ion-icon",14),e.qZA(),e.TgZ(3,"ion-button",13),e.NdJ("click",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.terminalpopoverclick(t))}),e._UZ(4,"ion-icon",15),e.qZA()()}}function pe(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-segment-button",25),e.NdJ("click",function(){const a=e.CHM(i).$implicit,c=e.oxw(2);return e.KtG(c.segmentClicked(a.key))}),e.TgZ(1,"ion-label",26),e._uU(2),e._UZ(3,"br"),e._uU(4),e.qZA()()}if(2&o){const i=r.$implicit;e.s9C("value",i.key),e.xp6(2),e.Oqu(i.value.getDeviceName()),e.xp6(2),e.Oqu(i.key)}}function ge(o,r){1&o&&(e.TgZ(0,"ion-select-option",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"TerminalTab.filters.RemoteCommand")))}function ue(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-col",28)(1,"ion-button",29),e.NdJ("click",function(t){e.CHM(i);const a=e.oxw(2);return e.KtG(a.devicepopoverclick(t))}),e._UZ(2,"ion-icon",30),e.qZA()()}}function _e(o,r){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-segment",16),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.id=t)}),e.YNc(2,pe,5,3,"ion-segment-button",17),e.ALo(3,"keyvalue"),e.qZA(),e.TgZ(4,"ion-grid")(5,"ion-row",18)(6,"ion-col")(7,"ion-select",19,20),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.selectedfilters=t)})("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.filterTypeChanged(t))}),e.TgZ(9,"ion-select-option",21),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"ion-select-option",22),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,ge,3,3,"ion-select-option",23),e.qZA()(),e.YNc(16,ue,3,0,"ion-col",24),e.qZA()(),e.BQk()}if(2&o){const i=e.oxw();e.xp6(1),e.Q6J("scrollable",!0)("ngModel",i.id),e.xp6(1),e.Q6J("ngForOf",e.lcZ(3,9,i.ble.connectedDevices)),e.xp6(5),e.Q6J("multiple",!0)("ngModel",i.selectedfilters),e.xp6(3),e.Oqu(e.lcZ(11,11,"TerminalTab.filters.Info")),e.xp6(3),e.Oqu(e.lcZ(14,13,"TerminalTab.filters.Data")),e.xp6(2),e.Q6J("ngIf",i.ble.connectedDevices.get(i.id).getRemoteCommandSupport()),e.xp6(1),e.Q6J("ngIf",1==i.ble.connectedDevices.get(i.id).getGPIOSupport()||null!=i.ble.connectedDevices.get(i.id).getMTUSize()||1!=i.platform.is("desktop"))}}function de(o,r){1&o&&(e.TgZ(0,"div",31)(1,"ion-label",32),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"TerminalTab.nodeviceconnected")))}function me(o,r){if(1&o&&(e.TgZ(0,"ion-row",42),e._uU(1),e.qZA()),2&o){const i=e.oxw(2).$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.BufferToHex(i.getMsgData())," ")}}function fe(o,r){if(1&o&&e._UZ(0,"ion-row",43),2&o){const i=e.oxw(2).$implicit,n=e.oxw(3);e.Q6J("innerText",n.BufferToAscii(i.getMsgData(),n.only_printable_ascii))}}function Te(o,r){if(1&o&&(e.ynx(0,39),e.YNc(1,me,2,1,"ion-row",40),e.YNc(2,fe,1,1,"ion-row",41),e.BQk()),2&o){const i=e.oxw(4);e.Q6J("ngSwitch",i.selectedencoding),e.xp6(1),e.Q6J("ngSwitchCase","HEX"),e.xp6(1),e.Q6J("ngSwitchCase","ASCII")}}function he(o,r){if(1&o&&(e.TgZ(0,"ion-row",42),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.hij(" ",n.BufferToHex(i.getMsgData())," ")}}function Ce(o,r){if(1&o&&(e.TgZ(0,"ion-row")(1,"ion-col",34),e._uU(2),e.qZA(),e.TgZ(3,"ion-col",35)(4,"ion-grid",36)(5,"ion-row"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,Te,3,3,"ng-container",37),e.YNc(9,he,2,1,"ion-row",38),e.qZA()()()),2&o){const i=r.$implicit,n=e.oxw(3);e.xp6(2),e.hij(" ",i.getTimestampString()," "),e.xp6(1),e.Q6J("ngClass",n.getmsgclass(i)),e.xp6(3),e.hij(" ",e.xi3(7,5,i.getMsgInfo(),i.getMsgInfoParameters())," "),e.xp6(2),e.Q6J("ngIf",i.getType()==n.LogMessageType.DataSent||i.getType()==n.LogMessageType.DataReceived),e.xp6(1),e.Q6J("ngIf",i.getType()!=n.LogMessageType.DataSent&&i.getType()!=n.LogMessageType.DataReceived)}}function ve(o,r){if(1&o&&(e.TgZ(0,"ion-grid"),e.YNc(1,Ce,10,8,"ion-row",33),e.qZA()),2&o){const i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.ble.connectedDevices.get(i.id).getLogMessages(i.selectedfiltersenum))}}function be(o,r){1&o&&(e.TgZ(0,"div",31)(1,"ion-label",32),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"TerminalTab.nologmsgs")))}function xe(o,r){if(1&o&&(e.ynx(0),e.YNc(1,ve,2,1,"ion-grid",3),e.YNc(2,be,4,3,"div",5),e.BQk()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",0!=i.ble.connectedDevices.get(i.id).getLogMessages(i.selectedfiltersenum).length),e.xp6(1),e.Q6J("ngIf",0==i.ble.connectedDevices.get(i.id).getLogMessages(i.selectedfiltersenum).length)}}function Ze(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-col",48)(1,"ion-item-group")(2,"ion-item",36)(3,"ion-input",50,51),e.NdJ("ionInput",function(t){e.CHM(i);const a=e.oxw(2);return e.KtG(a.onSendCountInput(t))})("ionChange",function(t){e.CHM(i);const a=e.oxw(2);return e.KtG(a.onSendCountChange(t))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"ion-item",36)(7,"ion-input",52,53),e.NdJ("ionInput",function(t){e.CHM(i);const a=e.oxw(2);return e.KtG(a.onTXIntervalInput(t))})("ionChange",function(t){e.CHM(i);const a=e.oxw(2);return e.KtG(a.onTXIntervalChange(t))}),e.ALo(9,"translate"),e.qZA()()()()}if(2&o){const i=e.oxw(2);e.xp6(3),e.s9C("label",e.lcZ(5,4,"TerminalTab.sendcount")),e.Q6J("value",i.sendCount),e.xp6(4),e.s9C("label",e.lcZ(9,6,"TerminalTab.txinterval")),e.Q6J("value",i.txInterval)}}function we(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-footer")(1,"ion-grid")(2,"ion-row",18)(3,"ion-col",44)(4,"ion-input",45,46),e.NdJ("ionInput",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.onPayloadInput(t))})("keyup.enter",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.sendclick())})("ionChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.updatepayload(t))}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"ion-label")(8,"small"),e._uU(9),e.qZA()()(),e.YNc(10,Ze,10,8,"ion-col",47),e.TgZ(11,"ion-col",48)(12,"ion-button",49),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.sendclick())}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()}if(2&o){const i=e.oxw();e.xp6(4),e.hYB("placeholder","",e.lcZ(6,7,"TerminalTab.payload")," (",i.selectedencoding,")"),e.Q6J("value",i.payload),e.xp6(5),e.hij(" ",i.payloadCount," Bytes "),e.xp6(1),e.Q6J("ngIf",i.multiplepackets),e.xp6(2),e.Q6J("disabled",i.ble.connectedDevices.get(i.id).isSending()),e.xp6(1),e.hij(" ",e.lcZ(14,9,"TerminalTab.send")," ")}}function Pe(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-content")(1,"ion-list",36)(2,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.selectencodingclicked())}),e.TgZ(3,"ion-label",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"ion-item")(7,"ion-checkbox",56),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.sendtoall=t)}),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"ion-item",57)(11,"ion-checkbox",56),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.multiplepackets=t)}),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&o){const i=e.oxw();e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(5,6,"TerminalTab.terminalpopover.selectencoding")),e.xp6(3),e.Q6J("ngModel",i.sendtoall),e.xp6(1),e.Oqu(e.lcZ(9,8,"TerminalTab.terminalpopover.sendtoalldevices")),e.xp6(3),e.Q6J("ngModel",i.multiplepackets),e.xp6(1),e.Oqu(e.lcZ(13,10,"TerminalTab.terminalpopover.multiplepacketsend"))}}function ye(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.configgpioclicked())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&o&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.gpioconfig")))}function Oe(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.rwgpioclicked())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&o&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.gpioreadwrite")))}function Ie(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.connectionprioritypopoverclick())}),e.TgZ(1,"ion-label",59),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&o&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.requestconnectionpriority")))}function Ge(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.readmtu())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&o&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.readmtu")))}function Ae(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.readrssi())}),e.TgZ(1,"ion-label",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&o&&(e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(3,2,"TerminalTab.devicepopover.readrssi")))}function ke(o,r){if(1&o&&(e.TgZ(0,"ion-content")(1,"ion-list",36),e.YNc(2,ye,4,4,"ion-item",58),e.YNc(3,Oe,4,4,"ion-item",58),e.YNc(4,Ie,4,4,"ion-item",58),e.YNc(5,Ge,4,4,"ion-item",58),e.YNc(6,Ae,4,4,"ion-item",58),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",1==i.ble.connectedDevices.get(i.id).getGPIOSupport()),e.xp6(1),e.Q6J("ngIf",1==i.ble.connectedDevices.get(i.id).getGPIOSupport()),e.xp6(1),e.Q6J("ngIf",1==i.platform.is("android")),e.xp6(1),e.Q6J("ngIf",null!=i.ble.connectedDevices.get(i.id).getMTUSize()),e.xp6(1),e.Q6J("ngIf",1!=i.platform.is("desktop"))}}function Me(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-content")(1,"ion-list",36)(2,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.requestconnectionpriority("CONNECTION_PRIORITY_HIGH"))}),e.TgZ(3,"ion-label",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"ion-item",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.requestconnectionpriority("CONNECTION_PRIORITY_BALANCED"))}),e.TgZ(7,"ion-label",55),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"ion-item",60),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.requestconnectionpriority("CONNECTION_PRIORITY_LOW_POWER"))}),e.TgZ(11,"ion-label",55),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}2&o&&(e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(5,6,"TerminalTab.requestconnectionpopover.high")),e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(9,8,"TerminalTab.requestconnectionpopover.balanced")),e.xp6(2),e.Q6J("button",!0),e.xp6(2),e.Oqu(e.lcZ(13,10,"TerminalTab.requestconnectionpopover.low")))}const qe=[{path:"",component:(()=>{var o;class r{constructor(n,t,a,c,m,h,w,Qe){this.route=n,this.platform=t,this.router=a,this.ble=c,this.ngZone=m,this.modalCtrl=h,this.toastController=w,this.translateService=Qe,this.id=null,this.terminalpopoveropen=!1,this.msgfilterskeys=Object.keys(_.f).map(P=>_.f[P]).filter(P=>"string"==typeof P),this.msgfilters=_.f,this.selectedfilters=["Info","Data","RemoteCommand"],this.selectedfiltersenum=[],this.devicepopoveropen=!1,this.connectionprioritypopoveropen=!1,this.payload=void 0,this.selectedencoding=u[u.ASCII],this.only_printable_ascii=!1,this.sendtoall=!1,this.multiplepackets=!1,this.payloadCount=0,this.sendCount=1,this.txInterval=1e3,this.BufferToHex=v.iK,this.BufferToAscii=J,this.ConnectionPriority=O.W6,this.LogMessageType=_.f}ngOnInit(){var n=this;return(0,s.Z)(function*(){n.platform.keyboardDidShow.subscribe(t=>{setTimeout(()=>{n.content.scrollToBottom(0)},20)}),n.platform.keyboardDidHide.subscribe(t=>{setTimeout(()=>{n.content.scrollToBottom(0)},20)}),n.translateService.onLangChange.subscribe(()=>{let t=[];for(let a of n.selectedfilters)t.push("TerminalTab.filters."+a);n.translateService.get(t).subscribe(function(){var a=(0,s.Z)(function*(c){if(null!=n.filterselect){n.filterselect.selectedText="";for(let m in c)n.filterselect.selectedText+=`${c[m]}, `;n.filterselect.selectedText=n.filterselect.selectedText.slice(0,-2)}});return function(c){return a.apply(this,arguments)}}())}),n.route.queryParamMap.subscribe(function(){var t=(0,s.Z)(function*(a){let c=a.get("deviceid");null!=c&&n.ble.connectedDevices.has(c)&&(n.id=c,n.msgloggedsubscription&&n.msgloggedsubscription.unsubscribe(),n.msgloggedsubscription=n.ble.connectedDevices.get(n.id).getLoggerDataLoggedSubject().subscribe((0,s.Z)(function*(){n.ngZone.run(()=>{}),setTimeout(()=>{n.content.scrollToBottom(0)},20)})),setTimeout(()=>{n.content.scrollToBottom(0)},20))});return function(a){return t.apply(this,arguments)}}())})()}ionViewWillEnter(){var n=this;this.disconnectsubscription=this.ble.onDeviceDisconnected.subscribe(function(){var t=(0,s.Z)(function*(a){if(0==n.ble.connectedDevices.size)n.selectedfilters=["Info","Data","RemoteCommand"],n.selectedfiltersenum=[],n.sendCount=1,n.txInterval=1e3,n.router.navigate(["/tabs/scan"]);else{let c=Array.from(new Map([...n.ble.connectedDevices.entries()].sort((h,w)=>h[0].localeCompare(w[0]))).keys()),m=c.findIndex(h=>h.localeCompare(a)>0);n.router.navigate([],-1==m?{queryParams:{deviceid:c[c.length-1]},queryParamsHandling:"merge"}:{queryParams:{deviceid:c[m]},queryParamsHandling:"merge"})}});return function(a){return t.apply(this,arguments)}}())}ionViewWillLeave(){this.msgloggedsubscription&&(this.msgloggedsubscription.unsubscribe(),this.msgloggedsubscription=void 0),this.disconnectsubscription.unsubscribe(),this.disconnectsubscription=void 0}disconnectclick(){var n=this;return(0,s.Z)(function*(){R.N.production||n.id!=S.y.deviceId?yield n.ble.disconnect(n.id):(n.ble.connectedDevices.delete(n.id),n.ble.onDeviceDisconnected.next(n.id))})()}segmentClicked(n){this.router.navigate([],{queryParams:{deviceid:n},queryParamsHandling:"merge"})}terminalpopoverclick(n){this.terminalpopover.event=n,this.terminalpopoveropen=!0}devicepopoverclick(n){this.devicepopover.event=n,this.requestconnectionpopover.event=n,this.devicepopoveropen=!0}connectionprioritypopoverclick(){this.connectionprioritypopoveropen=!0}updatepayload(n){this.payload=n.detail.value}sendclick(){var n=this;return(0,s.Z)(function*(){n.payloadinput.setFocus();try{if(n.payload&&0!=n.payload.length){var t;switch(u[n.selectedencoding]){default:case u.ASCII:if(!function Q(o,r){return(r?/^[\x20-\x7E]*$/:/^[\x00-\x7F]*$/).test(o)}(n.payload,n.only_printable_ascii))throw new Error("ParserMessages.ASCIIError");t=new DataView(function N(o){return Uint8Array.from(o,r=>r.charCodeAt(0)).buffer}(n.payload));break;case u.HEX:if(!(0,v.A5)(n.payload))throw new Error("ParserMessages.HEXError");t=new DataView((0,v.Zy)(n.payload.replace(/ /g,"")))}n.payload="",n.payloadinput.value="",n.payloadCounter();try{yield n.ble.senddata(n.sendtoall?void 0:n.id,t,n.multiplepackets?n.sendCount:1,n.multiplepackets?n.txInterval:0)}catch(a){console.log(a)}setTimeout(()=>{n.content.scrollToBottom(0)},20)}}catch(a){n.translateService.get(a.message).subscribe(function(){var c=(0,s.Z)(function*(m){(yield n.toastController.create({message:m,duration:500,position:"bottom",cssClass:"toastwidth"})).present()});return function(m){return c.apply(this,arguments)}}())}})()}filterTypeChanged(n){var t=this;return(0,s.Z)(function*(){let a=n.detail.value;t.filterselect.selectedText=void 0,t.selectedfiltersenum=[];for(let c of a)switch(c){case"Info":t.selectedfiltersenum.push(_.f.Info);break;case"Data":t.selectedfiltersenum.push(_.f.DataSent,_.f.DataReceived);break;case"RemoteCommand":t.selectedfiltersenum.push(_.f.RemoteCommand)}setTimeout(()=>{t.content.scrollToBottom(0)},20)})()}onSendCountInput(n){let a=n.detail.value.replace(/[^0-9]+/g,"");this.sendcountinput.value=a}onSendCountChange(n){let t=+n.detail.value;this.sendcountinput.value=this.sendCount=t<=1?1:t}onTXIntervalInput(n){let a=n.detail.value.replace(/[^0-9]+/g,"");this.txintervalinput.value=a}onTXIntervalChange(n){let t=+n.detail.value;this.txintervalinput.value=this.txInterval=t<=50?50:t}onPayloadInput(n){let t=n.detail.value;var a=t;switch(u[this.selectedencoding]){default:case u.ASCII:a=function U(o,r){return o.replace(r?/[^\x20-\x7E]/g:/[^\x00-\x7F]/g,"")}(t,this.only_printable_ascii);break;case u.HEX:a=(0,v.xx)(t)}this.payloadinput.value=a,this.payloadCounter()}payloadCounter(){switch(u[this.selectedencoding]){default:case u.ASCII:this.payloadCount=this.payloadinput.value.length;break;case u.HEX:this.payloadCount=Math.floor(this.payloadinput.value.replace(/ /g,"").length/2)}}getmsgclass(n){switch(n.getType()){case _.f.Info:return"infomsg";case _.f.DataSent:return"datasentmsg";case _.f.DataReceived:return"datareceivedmsg";case _.f.RemoteCommand:return"remotecommandmsg";default:return""}}selectencodingclicked(){var n=this;return(0,s.Z)(function*(){const t=yield n.modalCtrl.create({component:q,componentProps:{selectedencoding:n.selectedencoding,only_printable_ascii:n.only_printable_ascii}});t.cssClass="auto-height",t.animated=!1,t.present();const{data:a,role:c}=yield t.onWillDismiss();"confirm"===c&&(n.payload=void 0,n.selectedencoding=u[a.selectedencoding],n.only_printable_ascii=a.only_printable_ascii)})()}configgpioclicked(){var n=this;return(0,s.Z)(function*(){const t=yield n.modalCtrl.create({component:K,componentProps:{id:n.id}});t.cssClass="auto-height",t.animated=!1,t.backdropDismiss=!1,t.present(),yield t.onWillDismiss()})()}rwgpioclicked(){var n=this;return(0,s.Z)(function*(){const t=yield n.modalCtrl.create({component:X,componentProps:{id:n.id}});t.cssClass="auto-height",t.animated=!1,t.backdropDismiss=!1,t.present(),yield t.onWillDismiss()})()}readrssi(){var n=this;return(0,s.Z)(function*(){yield n.ble.readrssi(n.id)})()}readmtu(){var n=this;return(0,s.Z)(function*(){yield n.ble.readmtu(n.id)})()}requestconnectionpriority(n){var t=this;return(0,s.Z)(function*(){yield t.ble.requestpriority(t.id,O.W6[n])})()}}return(o=r).\u0275fac=function(n){return new(n||o)(e.Y36(C.gz),e.Y36(ee.t4),e.Y36(C.F0),e.Y36(Z.xH),e.Y36(e.R0b),e.Y36(l.IN),e.Y36(l.yF),e.Y36(T.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-terminal"]],viewQuery:function(n,t){if(1&n&&(e.Gf(ne,5),e.Gf(te,5),e.Gf(ie,5),e.Gf(oe,5),e.Gf(ae,5),e.Gf(le,5),e.Gf(re,5),e.Gf(ce,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.terminalpopover=a.first),e.iGM(a=e.CRH())&&(t.devicepopover=a.first),e.iGM(a=e.CRH())&&(t.requestconnectionpopover=a.first),e.iGM(a=e.CRH())&&(t.content=a.first),e.iGM(a=e.CRH())&&(t.filterselect=a.first),e.iGM(a=e.CRH())&&(t.payloadinput=a.first),e.iGM(a=e.CRH())&&(t.sendcountinput=a.first),e.iGM(a=e.CRH())&&(t.txintervalinput=a.first)}},decls:20,vars:10,consts:[[3,"translucent"],["color","primary"],["slot","end",4,"ngIf"],[4,"ngIf"],["ioncontent",""],["class","container",4,"ngIf"],["showBackdrop","false","dismissOnSelect","true",1,"terminalpopover",3,"isOpen","didDismiss"],["terminalpopover",""],["showBackdrop","false","dismissOnSelect","true",1,"devicepopover",3,"isOpen","didDismiss"],["devicepopover",""],["showBackdrop","false",1,"connectionprioritypopover",3,"dismissOnSelect","isOpen","didDismiss"],["requestconnectionpopover",""],["slot","end"],[3,"click"],["slot","icon-only","name","close-outline"],["slot","icon-only","name","ellipsis-vertical"],[3,"scrollable","ngModel","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[1,"ion-align-items-center"],["interface","popover",1,"msgfilter",3,"multiple","ngModel","ngModelChange","ionChange"],["filterselect",""],["value","Info"],["value","Data"],["value","RemoteCommand",4,"ngIf"],["size","auto",4,"ngIf"],[3,"value","click"],[1,"deviceSegmentLabel"],["value","RemoteCommand"],["size","auto"],["fill","clear",3,"click"],["color","dark","slot","icon-only","name","ellipsis-vertical"],[1,"container"],[1,"nodeviceconnected"],[4,"ngFor","ngForOf"],["size","auto",2,"font-weight","bold"],[3,"ngClass"],[1,"ion-no-padding"],[3,"ngSwitch",4,"ngIf"],["class","hexdata",4,"ngIf"],[3,"ngSwitch"],["class","hexdata",4,"ngSwitchCase"],["class","asciidata",3,"innerText",4,"ngSwitchCase"],[1,"hexdata"],[1,"asciidata",3,"innerText"],[1,"ion-text-right"],["enterkeyhint","send",1,"ion-text-left",3,"value","placeholder","ionInput","keyup.enter","ionChange"],["payloadinput",""],["size","12","size-sm","auto",4,"ngIf"],["size","12","size-sm","auto"],[1,"sendbutton",3,"disabled","click"],["inputmode","numeric",3,"value","label","ionInput","ionChange"],["sendcountinput",""],["placeholder","ms","inputmode","numeric",3,"value","label","ionInput","ionChange"],["txintervalinput",""],[3,"button","click"],[1,"ion-no-margin"],[3,"ngModel","ngModelChange"],["lines","none"],[3,"button","click",4,"ngIf"],["text-wrap","",1,"ion-no-margin"],["lines","none",3,"button","click"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1),e.YNc(2,se,5,0,"ion-buttons",2),e.TgZ(3,"ion-title"),e._uU(4," Terminal "),e.qZA()(),e.YNc(5,_e,17,15,"ng-container",3),e.qZA(),e.TgZ(6,"ion-content",null,4),e.YNc(8,de,4,3,"div",5),e.YNc(9,xe,3,2,"ng-container",3),e.qZA(),e.YNc(10,we,15,11,"ion-footer",3),e.TgZ(11,"ion-popover",6,7),e.NdJ("didDismiss",function(){return t.terminalpopoveropen=!1}),e.YNc(13,Pe,14,12,"ng-template"),e.qZA(),e.TgZ(14,"ion-popover",8,9),e.NdJ("didDismiss",function(){return t.devicepopoveropen=!1}),e.YNc(16,ke,7,5,"ng-template"),e.qZA(),e.TgZ(17,"ion-popover",10,11),e.NdJ("didDismiss",function(){return t.connectionprioritypopoveropen=!1}),e.YNc(19,Me,14,12,"ng-template"),e.qZA()),2&n&&(e.Q6J("translucent",!1),e.xp6(2),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(3),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(3),e.Q6J("ngIf",0==t.ble.connectedDevices.size||null==t.id||null==t.ble.connectedDevices.get(t.id)),e.xp6(1),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(1),e.Q6J("ngIf",0!=t.ble.connectedDevices.size&&null!=t.id&&null!=t.ble.connectedDevices.get(t.id)),e.xp6(1),e.Q6J("isOpen",t.terminalpopoveropen),e.xp6(3),e.Q6J("isOpen",t.devicepopoveropen),e.xp6(3),e.Q6J("dismissOnSelect",!0)("isOpen",t.connectionprioritypopoveropen))},dependencies:[l.YG,l.Sm,l.nz,l.wI,l.W2,l.fr,l.jY,l.Gu,l.gu,l.pK,l.Ie,l.Ub,l.Q$,l.q_,l.Nd,l.cJ,l.GO,l.t9,l.n0,l.wd,l.sr,l.d8,l.w,l.QI,l.j9,p.mk,p.sg,p.O5,p.RF,p.n9,d.JJ,d.On,p.Nd,T.X$],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.nodeviceconnected[_ngcontent-%COMP%]{font-weight:700;margin:auto}ion-segment-button[_ngcontent-%COMP%]{text-transform:none;max-width:none!important}.datasentmsg[_ngcontent-%COMP%]{color:#db8a06}.datareceivedmsg[_ngcontent-%COMP%]{color:#bbb323}.infomsg[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.remotecommandmsg[_ngcontent-%COMP%]{color:#48a9c5}.msgfilter[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.terminalpopover[_ngcontent-%COMP%]{--width: 200px}.devicepopover[_ngcontent-%COMP%]{--width: 220px}.connectionprioritypopover[_ngcontent-%COMP%]{--width: 100px}.hexdata[_ngcontent-%COMP%]{font-family:monospace;font-size:16px}.asciidata[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-all;white-space:pre-wrap}.sendbutton[_ngcontent-%COMP%]{width:100%}.deviceSegmentLabel[_ngcontent-%COMP%]{font-weight:600;font-size:16px}ion-select[_ngcontent-%COMP%]{--highlight-color: var(--ion-color-primary)}"]}),r})()}];let Je=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Bz.forChild(qe),C.Bz]}),r})();function I(o){return new A.w(o,"./assets/i18n/",".json")}let Ne=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Pc,p.ez,d.u5,Je,T.aw.forChild({loader:{provide:T.Zw,useFactory:I,deps:[G.eN]}})]}),r})()}}]);